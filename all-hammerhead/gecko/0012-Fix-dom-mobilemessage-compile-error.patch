From 418b122b9bbd1882f005248bd2bbdbbf69749c0a Mon Sep 17 00:00:00 2001
From: Kai-Zhen Li <kli@mozilla.com>
Date: Wed, 29 Oct 2014 16:59:15 +0800
Subject: [PATCH 12/13] Fix dom/mobilemessage compile error.

---
 dom/mobilemessage/gonk/SmsService.h | 2 ++
 dom/mobilemessage/moz.build         | 4 ++++
 2 files changed, 6 insertions(+)

diff --git a/dom/mobilemessage/gonk/SmsService.h b/dom/mobilemessage/gonk/SmsService.h
index 4badee3..c025c3d 100644
--- a/dom/mobilemessage/gonk/SmsService.h
+++ b/dom/mobilemessage/gonk/SmsService.h
@@ -28,9 +28,11 @@ public:
   SmsService();
 
 protected:
+  ~SmsService(){}
   nsCOMPtr<nsIRadioInterfaceLayer> mRil;
   nsTArray<nsString> mSilentNumbers;
   uint32_t mDefaultServiceId;
+
 };
 
 } // namespace mobilemessage
diff --git a/dom/mobilemessage/moz.build b/dom/mobilemessage/moz.build
index 51e9c3e..237f3f1 100644
--- a/dom/mobilemessage/moz.build
+++ b/dom/mobilemessage/moz.build
@@ -77,6 +77,10 @@ LOCAL_INCLUDES += [
     '/dom/base',
 ]
 
+CXXFLAGS += [
+    '-fPIC',
+]
+
 include('/ipc/chromium/chromium-config.mozbuild')
 
 FINAL_LIBRARY = 'xul'
-- 
1.9.1

