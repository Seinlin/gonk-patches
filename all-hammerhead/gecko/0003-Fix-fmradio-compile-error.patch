From e8e2045f35085ea8044b153289fb8b72cd2782f1 Mon Sep 17 00:00:00 2001
From: Kai-Zhen Li <kli@mozilla.com>
Date: Wed, 29 Oct 2014 16:55:59 +0800
Subject: [PATCH 03/13] Fix fmradio compile error.

---
 dom/fmradio/FMRadio.cpp         | 3 +--
 dom/fmradio/FMRadioService.cpp  | 1 +
 dom/fmradio/FMRadioService.h    | 2 +-
 dom/fmradio/ipc/FMRadioParent.h | 4 +++-
 4 files changed, 6 insertions(+), 4 deletions(-)

diff --git a/dom/fmradio/FMRadio.cpp b/dom/fmradio/FMRadio.cpp
index 32eb01a..a6ce669 100644
--- a/dom/fmradio/FMRadio.cpp
+++ b/dom/fmradio/FMRadio.cpp
@@ -60,8 +60,6 @@ public:
     mType = aType;
   }
 
-  ~FMRadioRequest() { }
-
   NS_IMETHODIMP
   Run()
   {
@@ -98,6 +96,7 @@ public:
   }
 
 private:
+  ~FMRadioRequest() { }
   FMRadioRequestArgs::Type mType;
   nsWeakPtr mFMRadio;
 };
diff --git a/dom/fmradio/FMRadioService.cpp b/dom/fmradio/FMRadioService.cpp
index 19409ce..f88ec20 100644
--- a/dom/fmradio/FMRadioService.cpp
+++ b/dom/fmradio/FMRadioService.cpp
@@ -233,6 +233,7 @@ public:
   }
 
 private:
+  ~ReadAirplaneModeSettingTask() {}
   nsRefPtr<FMRadioReplyRunnable> mPendingRequest;
 };
 
diff --git a/dom/fmradio/FMRadioService.h b/dom/fmradio/FMRadioService.h
index 836ef26..f31d76d 100644
--- a/dom/fmradio/FMRadioService.h
+++ b/dom/fmradio/FMRadioService.h
@@ -159,7 +159,6 @@ class FMRadioService MOZ_FINAL : public IFMRadioService
 
 public:
   static FMRadioService* Singleton();
-  virtual ~FMRadioService();
 
   NS_DECL_ISUPPORTS
 
@@ -203,6 +202,7 @@ protected:
   FMRadioService();
 
 private:
+  virtual ~FMRadioService();
   int32_t RoundFrequency(double aFrequencyInMHz);
 
   void NotifyFMRadioEvent(FMRadioEventType aType);
diff --git a/dom/fmradio/ipc/FMRadioParent.h b/dom/fmradio/ipc/FMRadioParent.h
index 024b240..bf76a75 100644
--- a/dom/fmradio/ipc/FMRadioParent.h
+++ b/dom/fmradio/ipc/FMRadioParent.h
@@ -20,7 +20,6 @@ class FMRadioParent MOZ_FINAL : public PFMRadioParent
 {
 public:
   FMRadioParent();
-  ~FMRadioParent();
 
   virtual void
   ActorDestroy(ActorDestroyReason aWhy) MOZ_OVERRIDE;
@@ -42,6 +41,9 @@ public:
 
   virtual bool
   RecvSetRDSGroupMask(const uint32_t& aRDSGroupMask) MOZ_OVERRIDE;
+
+private:
+  ~FMRadioParent();
 };
 
 END_FMRADIO_NAMESPACE
-- 
1.9.1

